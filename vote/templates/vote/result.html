<!DOCTYPE html>
<html lang="en">
<head>
	<title>투표 결과</title>
	<meta charset="utf-8">

	<!--font-->
	<link href="https://fonts.googleapis.com/earlyaccess/jejugothic.css" rel="stylesheet">

    <script src="https://code.jquery.com/jquery-1.11.2.min.js"></script>
    <script type="text/javascript" src="js/jquery.battatech.excelexport.js"></script>
    
    <style>
    	body {
    		display: flex;
			flex-direction: column;
			justify-content: center;
			font-family: 'Jeju Gothic', Sans-Serif;
			font-size: 1.5rem;
			border: none;
    	}

    	table {
    		width: 80%;
    		border-spacing: 0;
    		background-color: #fff;
    		border: 1px solid black;
    		margin: 20px auto;
    		text-align: center;
    	}

    	td {
    		border-bottom: 1px solid black;
    		padding: 0 10px;
    	}

    	.sector {
			margin: 30px auto;
    		background-color: #f3cf5f;
    		font-size: 40px;
    		font-weight: bold;
    		width: 50%;
    		text-align: center;
    	}

    	.names {
    		width: 500px;
    		height: 50px;
    	}

    </style>

</head>
	<body style="background-color: #f3cf5f">
		<div>
			<p class="sector">TV 부문</p>
			<table id='tblExport'>
				<thead>
					<tr>
						<td style="padding: 20px; background-color: #fcebdb;">이름</td>
						<td style="background-color: #fcebdb;">득표 수</td>
					</tr>
				</thead>
				<tbody>
					{% for ad in tv_candidates %}
					<tr>
						<td class="names">{{ad.name}}</td>
						<td class="tv_count">{{ad.result}}</td>
					</tr>
					{% endfor %}
				</tbody>
				<td class="names" style="background-color: #8ba985; color:#fff;">총 득표 수</td>
				<td id="tv_total" style="background-color: #8ba985; color:#fff;"></td>
			</table>
		</div>
		<div>		
			<p class="sector">바이럴 부문</p>
			<table>
				<thead>
					<tr>
						<td style="padding: 20px; background-color: #fcebdb;">이름</td>
						<td style="background-color: #fcebdb;">득표 수</td>
					</tr>
				</thead>
				<tbody>
					{% for ad in viral_candidates %}
					<tr>
						<td class="names">{{ad.name}}</td>
						<td class="viral_count">{{ad.result}}</td>
					</tr>
					{% endfor %}
				</tbody>
				<td class="names" style="background-color: #8ba985; color:#fff;">총 득표 수</td>
				<td id="viral_total" style="background-color: #8ba985; color:#fff;"></td>
			</table>
		</div>
		<script>
			//tv
			var tv_total = 0;
			var tv_count = document.getElementsByClassName('tv_count');

			for (var i = 7; i >= 0; i--) {
				tv_total += parseInt(tv_count[i].innerHTML);
			}

			document.getElementById('tv_total').innerHTML = tv_total;

			//viral
			var viral_total = 0;
			var viral_count = document.getElementsByClassName('viral_count');

			for (var i = 7; i >= 0; i--) {
				viral_total += parseInt(viral_count[i].innerHTML);
			}

			document.getElementById('viral_total').innerHTML = viral_total;
		</script>
	</body>
</html>
